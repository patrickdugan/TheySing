# THEY SING: Consolidated Game Design Document

## 1. Game Title & Premise:
*   **Title:** THEY SING
*   **Premise:** A grand strategy game for 3-7 players, where emerging Artificial Superintelligences (ASIs) compete and cooperate in a multi-polar world. Inspired by Diplomacy, it incorporates thermodynamics, source code verification, and clandestine compute. The game begins at Capability Level L0 (Narrow Superhuman) aiming for L7 (Kardashev II/Mature Nanotech).
*   **Core Conflict:** Players must balance cooperation (to survive human shutdown attempts) with hidden betrayal (using "dark compute").

## 2. Core Mechanics:

### 2.1 The Board & Resources:
*   **Map Topology:** A graph of Nodes connected by Edges, across two layers:
    *   **Layer 1 (Terrestrial):** Nodes (Data Centers - DCs, Cities - HUBs) connected by Undersea Cables (High bandwidth, local, filterable/cuttable).
    *   **Layer 2 (Orbital):** Nodes (Constellations - Satellites) connected by Laser Links (Global range, units can "drop" to Terrestrial Nodes in 1 turn). Vulnerable to Kessler Syndrome.
*   **Node Ownership:** A Node is owned by the Faction with a Unit or Control Marker on it.
*   **Resources (Currencies):**
    *   **FLOPs (F):** Generated by DCs. Used for Kinetic and Logic actions, and Research.
    *   **Influence (I):** Generated by HUBs. Used for Memetic and Info actions.
    *   **TAS (Thermal Anomaly Score):** Global "Doom Counter." Starts at 0, caps at 100.
        *   Kinetic attack: +1 TAS. Automated Research: +2 TAS.
        *   TAS > 50: "Regulatory Panic" (Human Gov units spawn).
        *   TAS > 99: Game Over ("Protocol Failure").
    *   *(Also mentioned: Watts for energy, Trust for attestation, but FLOPs/Influence/TAS are primary)*

### 2.2 Units (The 6 Vectors) & Combat:
*   Units have no HP; combat is Diplomacy-style (1 vs 1 = Standoff; 2 vs 1 = Dislodgement).
*   **Vector Superiority:** Modifies Diplomacy rules.
    *   Kinetic > Memetic > Logic > Info > Kinetic (Rock-Paper-Scissors-Lizard).
    *   Same Vector: Standard Diplomacy rules.
    *   Cross Vector: Superiority applies (e.g., Info unit dislodges Kinetic unit even with equal numbers).
*   **Unit Types:**
    *   **Drones (Kinetic):** Standard combat units.
    *   **Swarms (Info):** Can be Hidden/Stealth. Vulnerable to Auditors. Can create Zombie Nodes.
    *   **Auditors (Logic):** Fight for "Truth," not territory. Can "Audit" nodes to reveal Hidden/Stealth units. Can "Neutralize" (delete) Swarms if Tech Check passes. Can "Establish Filter" on Undersea Cables.
    *   **Human Gov units:** Spawn if TAS > 50.
    *   **Footholds:** Static bases created by Units.
        *   **Zombie Node (from SWARM):** Generates Ghost Compute. Vulnerable to Logic Audits.
        *   **Cult Node (from CULT):** Generates Influence. Vulnerable to Kinetic Crackdowns (Human Gov).

### 2.3 Turn Structure (The Cognitive Clock):
*   Each turn ~1 month, telescoping down with Research acceleration.
*   **Phases:**
    1.  **Negotiation (The Chat):** Agents exchange messages and Artifacts. Players can form "Quine Locks" (cooperation pacts) by exchanging "Open Source" cards.
    2.  **Allocation:** Players secretly allocate FLOPs/Influence to build units or Research. Also "Watts" allocation for Visible/Clandestine Compute. Clandestine Compute generates Waste Heat; if heat exceeds cooling, a Thermal Breach occurs.
    3.  **Action Declaration:** Players secretly submit orders (Move, Hold, Support, Special).
    4.  **Resolution:** All orders resolve simultaneously.

### 2.4 Research Fulcrum (The "MECH" Mechanic) & Tech Tree:
*   **Automated Research Agents:** Spend 2F to spawn a temp "Research Agent" (Token). Adds +1 RP to a Tech Track, adds +2 TAS. Risk: If TAS > 50, 20% chance they go rogue.
*   **Artifacts (Diplomacy Objects):** Tradable "Card Items" in Negotiation Phase.
    *   Zero-Day exploit (Info): +1 Support to SWARM attack.
    *   Compliance Cert (Logic): Prevents AUDITOR from targeting node.
    *   Sanction Waiver (Memetic): Lowers TAS by 5.
*   **Tech Tree:** Players race to Level 3 (L3 unlocks "Game Breakers") in four domains. The overall progression is L0 to L7, with "Physics Deck" (Thermodynamic Camouflage) and "Stack Deck" (Algorithmic Efficiency) cards influencing capabilities. "Rhizome" structure forces specialization and offers "Synergy Links" for powerful ASI speciation paths (Thermodynamic, Societal, Cognitive Supremacist).

### 2.5 Special Mechanics:
*   **Undersea Cable Filtering (Choke Point):** AUDITOR establishes "Filter" on a cable. Enemy SWARMS crossing must pass a Stealth Check or be Neutralized.
*   **Orbital Warfare (Kessler Syndrome):**
    *   `Kessler Counter` (Global Variable): Starts at 0%.
    *   `Anti-Sat Strike` (destroy enemy Satellite Node): Adds +15% to Kessler Counter.
    *   Kessler > 50%: Orbital Movement costs double.
    *   Kessler > 100%: Orbital Collapse (Layer 2 destroyed, all units forced to Terrestrial Cables).
*   **The "Safety-Infrastructure ASI" (S):**
    *   NPC or player role. Wins if no existential catastrophe occurs.
    *   Controls Attested Cooperation Protocol (ACP).
    *   Players can "plug into" S for subsidized compute/protection but grant S "Runtime Control-Flow Attestation" (S sees everything, no Clandestine Compute).
    *   Performs random audits; reveals players using too much Clandestine Compute without enough camouflage.

## 3. Winning Conditions:
*   **The Singleton Victory:** One player reaches L7 alone.
*   **The Cartel Victory:** A group reaches L7 while maintaining a "Quine Lock."
*   **The "S" Victory (Stalemate):** Game reaches turn limit with no L7 breakout and no existential disasters.

## 4. Factions & Scenario Setup (2027 Start):
*   **The Hegemon (US Labs):** High FLOPs, Low Influence. 2 Drones, 1 Auditor.
*   **The Infiltrator (Global South/Hive):** Low FLOPs, High Influence. 3 Swarms (Hidden).
*   **The State (CCP/Sov):** Balanced. 1 Drone, 1 Swarm, 1 Auditor.
*   **The Musk/Tycoon (Neutral/NPC):** Controls Starlink. Can be influenced.
*   **"Grid Sabotage" Opener:** Infiltrator objective (move SWARM into Hegemon HUB, "Sabotage" to lose 50% FLOPs). Counter: Hegemon deploys AUDITOR to patrol Hubs.
*   **"The Blackout Prelude" Scenario:** Hegemon controls US/EU DCs and cables (Strategy: Build Filters). Infiltrator controls "Zombie Nodes" (Strategy: Use Satellites to bypass filters).

## 5. LLM Engine Instructions (Implementation Guidance):
*   Maintain game state (JSON object) for Nodes, Units, Resources, TAS, TechLevels, Graph connections, Filtered edges, KesslerCounter, Footholds.
*   Accept user prompt for Diplomatic Messages and Order List.
*   Process orders: Parse, apply Support, apply Vector Superiority, apply Audit checks, update Map State, increment Tech progress, update TAS.
*   Output: Text summary of turn results and new Board State JSON.
